*=================================================================================* Section 0: Directories and Setup*=================================================================================vers 10.1 clear allset more offglobal directory /Users/pedm/Documents/jobs/Damian-Clarke/Data/*=================================================================================* Section 1: Get parent's gender from parent interviews* TODO : Remove this??*=================================================================================use "${directory}Raw\MCS-Survey-5\stata11\mcs5_parent_interview.dta", clear* Keep relevant variableskeep MCSID EPCREL00 EHPNUM00 eppnum00 EPPSEX00 EPGENA00 EPLOIL00 EPLOLX** EPLOLM00 EPLOLP00 EPHEI*00 EPHECM00 EPCUPR00 EPWEI*00 EPWEES00 EPSMUS0* EPSMMA00 EPSMEV00 EPSMKR00 EPPHAC00* Drop if not a natural parentdrop if EPCREL00 != 7* Drop if not a femaledrop if EPPSEX00 != 2duplicates drop MCSID EPPSEX00, forcesort MCSIDsave ${directory}Raw\MCS-Survey-5\stata11\temp.dta, replace****** maybe not above?*======================================================================================* Section 2: Obtain mother education + age at birth + BMI (from derived variables)*=====================================================================================* We use Wave 2 because not all CMs are included in Wave 1. But after Wave 2, no new CMs are added to surveyuse "${directory}Raw/MCS-Survey-2/stata9_se/mcs2_derived_variables.dta", clearrename BDMBMI00 mother_BMI_wave2rename BDMHGT00 mother_height_wave2rename BDNOBA00 Number_CMs_in_HH * Natural mother education level: may be recorded under either main or partner* BMDNVQ00 S2 MAIN DV Respondent NVQ Highest Level (across MCS1 and MCS2)* BPDNVQ00 S2 PARTNER DV Respondent NVQ Highest Level (across MCS1 and MCS2)rename BMDREL00 main_relationship_CMrename BPDREL00 partner_relationship_CMreplace BMDNVQ00 = . if main_relationship_CM != 1rename BMDNVQ00 natural_mother_education_NVQreplace natural_mother_education_NVQ = BPDNVQ00 if partner_relationship_CM == 1replace natural_mother_education_NVQ = . if natural_mother_education_NVQ < 0 | natural_mother_education_NVQ == 96label variable natural_mother_education_NVQ "S2 Natural Mothers NVQ highest level at interview"* Natural mother age at CM birth: may be recorded under either main or partnerreplace BMDAGB00 = . if main_relationship_CM != 1rename BMDAGB00 mother_age_CM_birthreplace mother_age_CM_birth = BPDAGB00 if partner_relationship_CM == 1label variable mother_age_CM_birth "S2 Natural Mothers age at birth of CM"* TODO: Good data on family income here* TODO: Language spoken in HHkeep MCSID mother_age_CM_birth mother_BMI_wave2 mother_height_wave2 natural_mother_education_NVQ Number_CMs_in_HHsort MCSIDsave "${directory}Intermediate/mcs1_mother_derived_variables.dta", replace*======================================================================================* Section 4: Parent interview variables*======================================================================================* birth weight of each cohort member*======================================================================================* Section 4: Mother health before preg*======================================================================================* Only found in Wave 1. Unfortunate that these variables don't exist in wave 2, because some CMs entere in wave 2use "${directory}Raw/MCS-Survey-1/stata9/mcs1_parent_interview.dta", clear* Compute weight before preg* Need to compile betweens stones/lb/kg* edit amwtbf00 amwbst00 amwblb00 amwbkg00 replace amwbst00 = . if amwbst00 <= -1replace amwblb00 = . if amwblb00 <= -1replace amwbkg00 = . if amwbkg00 <= -1* Convert stones and pounds to kggen pounds = 14*amwbst00 + amwblb00gen weight_before_preg = pounds * 0.453592replace weight_before_preg = amwbkg00 if weight_before_preg == .* Compute weekly alcohol consumption before birth* Pos. = 724	Variable = amdrof00	Variable label = S1 MAIN Frequency of alcohol consumption before preg  * Pos. = 725	Variable = ampuwk00	Variable label = S1 MAIN Number of units in average week before pregnancy  * Pos. = 726	Variable = ampuda00	Variable label = S1 MAIN Number of units in average day before pregnancy  * edit amdrof00 ampuwk00 ampuda00* Create aggregate, as some people answer number per week, others number per dayreplace ampuwk00 = . if ampuwk00 <= -1replace ampuda00 = . if ampuda00 <= -1replace ampuwk00 = 7 * ampuda00 if ampuwk00 == .rename ampuwk00 weekly_alcohol_b_preg* Create dummy variable for illness during preg* Pos. = 207	Variable = amilpr00	Variable label = S1 MAIN Any illnesses or problems during pregnancy  gen complications_during_preg = 1 if amilpr00 == 1* Create variable for cig before birth* Pos. = 716	Variable = amcipr00	Variable label = S1 MAIN Number of cigarettes smoked per day before preg  replace amcipr00 = 0 if amcipr00 == -1replace amcipr00 = . if amcipr00 < 0rename amcipr00 daily_cig_before_preg* Drop male main respondents (only 28)drop if ampsex == 1label variable weight_before_preg "S1 Mothers weight before birth of CM"label variable complications_during_preg "S1 Mothers complications before preg"label variable daily_cig_before_preg "S1 Mothers Number of cigarettes smoked per day before preg"label variable weekly_alcohol_b_preg "S1 Mothers Number of units alcohol in average week before pregnancy"rename mcsid MCSIDkeep MCSID weight_before_preg weekly_alcohol_b_preg daily_cig_before_preg complications_during_pregsort MCSIDsave "${directory}Intermediate/mcs1_mother_pregnancy", replace*======================================================================================* Section 5: TODO*======================================================================================* i.mother_age, i.child_age* LATER: mother health stocks + mother age first birth